// [date.js](http://neocotic.github.com/date.js) 1.0.0
// (c) 2011 Alasdair Mercer
// Licensed under the GPL Version 3 license.
// For all details and documentation:
// http://neocotic.github.com/date.js
(function(){function m(a,b){var c=a.getTimezoneOffset(),d=String(l(Math.floor(Math.abs(c)/60)*100+Math.abs(c)%60,4));if(b)d=d.slice(0,2)+b+d.slice(2);return(c>0?"-":"+")+d}function l(a,b){b=b||2;a=String(a);while(a.length<b)a="0"+a;return a}function k(a){var b=new Date(a);b.setMonth(0,1);return b.getTimezoneOffset()!==a.getTimezoneOffset()}function j(a){var b=(a.getUTCHours()+1)%24+a.getUTCMinutes()/60+a.getUTCSeconds()/(60*60);return Math.floor(b*1e3/24)}function i(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getFullYear(),d=new Date(c,0,1),e=Math.ceil(((b-d)/(1e3*60*60*24)+1)/7);return[c,e]}function h(i,n,o){if(typeof n!=="string")n=c;if(!o){var p=i.getDate(),q=i.getDay(),r=i.getDayOfYear(),s=i.getWeekOfYear(),t=i.getMonth(),u=i.getDaysInMonth(),v=i.getYearOfWeek(),w=i.getFullYear(),x=i.getHours(),y=i.getMinutes(),z=i.getSeconds(),A=i.getMilliseconds(),B=i.toString().match(g),C=i.getTimezoneOffset(),D=i.getTime();o={d:l(p),D:a[q],j:p,l:a[q+7],N:q||7,S:e[p%10>3?0:(p%100-p%10!==10)*p%10],w:q,z:r,W:s,F:d[t+12],m:l(t+1),M:d[t],n:t+1,t:u,L:i.isLeapYear()?1:0,o:v,Y:w,y:String(w).slice(2),a:x<12?"am":"pm",A:x<12?"AM":"PM",B:j(i),g:x%12||12,G:x,h:l(x%12||12),H:l(x),i:l(y),s:l(z),u:A*1e3,e:B?B[0]:"",I:k(i)?1:0,O:m(i),P:m(i,":"),T:B?B[0]:"",Z:C*-60,c:"",r:"",U:D};o.c=h(i,b,o);o.r=h(i,c,o)}var E=false;return n.replace(f,function(a){if(E){E=false;return a}if(a==="\\"){E=true;return""}return o[a]})}var a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b="Y-m-d\\TH:i:sP",c="D, j M Y H:i:s O",d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],e=["th","st","nd","rd"],f=/[\\dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,g=/([A-Z]+)(?=[\-\+]\d{4})/g;Date.prototype.format=function(a){return h(this,a)};Date.prototype.getDayOfYear=function(){var a=new Date(this.getFullYear(),0,1);return Math.ceil((this-a)/1e3/60/60/24)-1};Date.prototype.getDaysInMonth=function(){return(new Date(this.getFullYear(),this.getMonth()+1,0)).getDate()};Date.prototype.getWeekOfYear=function(){return i(this)[1]};Date.prototype.getYearOfWeek=function(){return i(this)[0]};Date.prototype.isLeapYear=function(){return(new Date(this.getFullYear(),1,29)).getMonth()===1}})()