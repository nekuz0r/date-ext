// [date.js](http://neocotic.com/date.js) 1.0.1
// (c) 2012 Alasdair Mercer
// Freely distributable under the MIT license.
// For all details and documentation:
// http://neocotic.com/date.js
(function(){function n(a,b){var c=a.getTimezoneOffset(),d=String(m(Math.floor(Math.abs(c)/60)*100+Math.abs(c)%60,4));if(b)d=d.slice(0,2)+b+d.slice(2);return(c>0?"-":"+")+d}function m(a,b){b=b||2;a=String(a);while(a.length<b)a="0"+a;return a}function l(a){var b=(a.getUTCHours()+1)%24+a.getUTCMinutes()/60+a.getUTCSeconds()/(60*60);return Math.floor(b*1e3/24)}function k(a){var b=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())),c=b.getUTCDay();b.setUTCDate(b.getUTCDate()-(c+6)%7+3);var d=b.getTime();b.setUTCMonth(0,4);var e=Math.round((d-b)/(7*1e3*60*60*24))+1;return{day:c||7,week:e,year:b.getUTCFullYear()}}function j(h,i,o){if("string"!==typeof i)i=c;if(!o){var p=k(h),q=h.getDate(),r=h.getDay(),s=h.getMonth(),t=h.getFullYear(),u=h.getHours(),v=h.toString().match(g);o={d:m(q),D:a[r],j:q,l:a[r+7],N:r||7,S:e[q%10>3?0:(q%100-q%10!==10)*q%10],w:r,z:h.getDayOfYear(),W:p.week,F:d[s+12],m:m(s+1),M:d[s],n:s+1,t:h.getDaysInMonth(),L:h.isLeapYear()?1:0,o:p.year,Y:t,y:String(t).slice(2),a:u<12?"am":"pm",A:u<12?"AM":"PM",B:l(h),g:u%12||12,G:u,h:m(u%12||12),H:m(u),i:m(h.getMinutes()),s:m(h.getSeconds()),u:m(h.getMilliseconds()*1e3,6),e:v?v[0]:"",I:h.isDaylightSavingTime()?1:0,O:n(h),P:n(h,":"),T:v?v[0]:"",Z:h.getTimezoneOffset()*-60,c:"",r:"",U:Math.round(h.getTime()/1e3)};o.c=j(h,b,o);o.r=j(h,c,o)}return i.replace(f,function(a){if("\\"===a)return a;if(0===a.indexOf("\\"))return a.substr(1);return o[a]})}function i(a,b,c){if(c)a["set"+b](a["get"+b]()+c);return a}var a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b="Y-m-d\\TH:i:sP",c="D, j M Y H:i:s O",d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],e=["th","st","nd","rd"],f=/\\?[\\dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,g=/([A-Z]+)(?=[\-\+]\d{4})/g;var h=[];Date.prototype.addDays=function(a){return i(this,"Date",a)};Date.prototype.addHours=function(a){return i(this,"Hours",a)};Date.prototype.addMilliseconds=function(a){return i(this,"Milliseconds",a)};Date.prototype.addMinutes=function(a){return i(this,"Minutes",a)};Date.prototype.addMonths=function(a){return i(this,"Month",a)};Date.prototype.addSeconds=function(a){return i(this,"Seconds",a)};Date.prototype.addYears=function(a){return i(this,"FullYear",a)};Date.prototype.clear=function(){this.clearDate();this.clearTime();return this};Date.prototype.clearDate=function(){this.setFullYear(0,0,1);return this};Date.prototype.clearTime=function(){this.setHours(0,0,0,0);return this};Date.prototype.format=function(a){return j(this,a)};Date.prototype.getDayOfYear=function(){var a=new Date(this.getFullYear(),0,1);return Math.floor((this-a)/1e3/60/60/24)};Date.prototype.getDaysInMonth=function(){return(new Date(this.getFullYear(),this.getMonth()+1,0)).getDate()};Date.prototype.getWeekOfYear=function(){return k(this).week};Date.prototype.getYearOfWeek=function(){return k(this).year};Date.prototype.isDaylightSavingTime=function(){var a=new Date(this);a.setMonth(0,1);return a.getTimezoneOffset()!==this.getTimezoneOffset()};Date.prototype.isLeapYear=function(){return 1===(new Date(this.getFullYear(),1,29)).getMonth()};Date.schedule=function(a,b,c){function f(){var a=h.indexOf(d);if(a>-1){h.splice(a,1);b.call(c)}}if("string"===typeof b){c=b;b=null}if("function"===typeof a){b=a;a=null}if(a==null)a=new Date;var d,e=a-new Date;if("function"===typeof b){if(e<=0){b.call(c)}else{h.push(d=setTimeout(f,e))}}return d};Date.prototype.schedule=function(a,b){return Date.schedule(this,a,b)};Date.unschedule=Date.prototype.unschedule=function(a){var b=h.indexOf(a);if(b>-1){clearTimeout(a);h.splice(b,1);return true}return false}})()